apiVersion: keda.sh/v1alpha1
kind: ScaledObject
metadata:
  name: "alchemist-tower-scaler"
  namespace: numinia
spec:
  scaleTargetRef:
    name: ${WORLD_NAME}
    kind: Deployment
  minReplicaCount: ${MIN_REPLICA_COUNT}
  maxReplicaCount: ${MAX_REPLICA_COUNT}
  cooldownPeriod: ${COOLDOWN_PERIOD}
  pollingInterval: ${POLLING_INTERVAL}
  triggers:
    - type: http
      metadata:
        url: "http://localhost:3000/health"
        auth: ""
        threshold: "1"
        activationThreshold: "1"
        host: "${DOMAIN}"
        path: "${PATH_PREFIX}"